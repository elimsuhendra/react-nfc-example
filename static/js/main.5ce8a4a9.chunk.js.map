{"version":3,"sources":["nfc.svg","spinner.gif","contexts/context.js","components/Scanner/Scanner.js","containers/Scan.js","components/SVGs/save.js","components/Writer/Writer.js","containers/Write.js","App.js","reportWebVitals.js","index.js"],"names":["ActionsContext","createContext","scan","write","setActions","Scanner","actions","useContext","_jsxs","className","children","_jsx","onClick","src","Spinner","alt","Scan","console","log","message","setMessage","useState","serialNumber","setSerialNumber","useCallback","async","window","ndef","NDEFReader","onreadingerror","onreading","event","onReading","error","concat","_ref","record","records","recordType","textDecoder","TextDecoder","encoding","decode","data","useEffect","_Fragment","status","Save","xmlns","height","viewBox","width","fill","d","Writer","writeFn","React","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","Write","alert","App","actionsValue","onHandleAction","nfc","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5ce8a4a9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/nfc.1e1c9c72.svg\";","export default __webpack_public_path__ + \"static/media/spinner.e8697d57.gif\";","import { createContext } from \"react\";\r\n\r\nexport const ActionsContext = createContext(\r\n    {\r\n        scan: null,\r\n        write: null,\r\n        setActions:()=>{}\r\n    }\r\n);","import React, { useContext } from 'react';\r\nimport './Scanner.css'\r\nimport Spinner from '../../spinner.gif';\r\nimport { ActionsContext } from '../../contexts/context';\r\n\r\nconst Scanner = () => {\r\n  const { actions, setActions} = useContext(ActionsContext);\r\n    return (\r\n      <div className=\"scanner\">\r\n        <p className=\"scanner-exit\" onClick={()=>setActions({...actions, scan: null})}>X</p>\r\n        <div className=\"scanner-container\">\r\n          <img src={Spinner} alt=\"spinning log\" className=\"scanner-image\"/>\r\n          <p className=\"scanner-text\">\r\n            Scanning...\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default Scanner;","import React, { useCallback, useContext, useEffect, useState } from 'react';\r\nimport Scanner from '../components/Scanner/Scanner';\r\nimport { ActionsContext } from '../contexts/context';\r\n\r\nconst Scan = () => {\r\n    console.log(\"Scan\")\r\n    const [message, setMessage] = useState('');\r\n    const [serialNumber, setSerialNumber] = useState('');\r\n    const { actions, setActions} = useContext(ActionsContext);\r\n\r\n    const scan = useCallback(async() => {\r\n        if ('NDEFReader' in window) { \r\n            try {\r\n                console.log(\"NDEFReader\")\r\n\r\n                const ndef = new window.NDEFReader();\r\n                await ndef.scan();\r\n                \r\n                console.log(\"Scan started successfully.\");\r\n                ndef.onreadingerror = () => {\r\n                    console.log(\"Cannot read data from the NFC tag. Try another one?\");\r\n                };\r\n                \r\n                ndef.onreading = event => {\r\n                    console.log(\"NDEF message read.\");\r\n                    onReading(event);\r\n                    setActions({\r\n                        scan: 'scanned',\r\n                        write: null\r\n                    });\r\n                };\r\n\r\n            } catch(error){\r\n                console.log(`Error! Scan failed to start: ${error}.`);\r\n            };\r\n        }\r\n    },[setActions]);\r\n\r\n    const onReading = ({message, serialNumber}) => {\r\n        console.log(\"onReading\")\r\n        setSerialNumber(serialNumber);\r\n        for (const record of message.records) {\r\n            switch (record.recordType) {\r\n                case \"text\":\r\n                    const textDecoder = new TextDecoder(record.encoding);\r\n                    setMessage(textDecoder.decode(record.data));\r\n                    break;\r\n                case \"url\":\r\n                    // TODO: Read URL record with record data.\r\n                    break;\r\n                default:\r\n                    // TODO: Handle other records with record data.\r\n                }\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        scan();\r\n    }, [scan]);\r\n\r\n    return(\r\n        <>\r\n            {actions.scan === 'scanned' ?  \r\n            <div>\r\n                <p>Serial Number: {serialNumber}</p>\r\n                <p>Message: {message}</p>\r\n            </div>\r\n            : <Scanner status={actions.scan}></Scanner> }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Scan;","import React from 'react';\r\n\r\nconst Save = () =>(\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#FFFFFF\">\r\n        <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z\"/>\r\n    </svg>\r\n);\r\n\r\nexport default Save;","import React from 'react';\r\nimport './Writer.css';\r\nimport Save from '../SVGs/save';\r\n\r\nconst Writer = ({writeFn}) => {\r\n    const [message, setMessage] = React.useState('');\r\n\r\n    const onSave = (e) => {\r\n        e.preventDefault();\r\n        writeFn(message);\r\n        setMessage('');\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <form onSubmit={onSave}>\r\n            <div className=\"writer-container\">\r\n                <input type=\"text\" placeholder=\"Enter Message...\" value={message} onChange={(e)=>setMessage(e.target.value)}></input>\r\n                <button className=\"btn\" type=\"submit\">\r\n                    <Save/>\r\n                    Save\r\n                </button>\r\n            </div>\r\n        </form>\r\n      </>\r\n    );\r\n};\r\n\r\nexport default Writer;","import React from 'react';\r\nimport Writer from '../components/Writer/Writer';\r\n\r\nconst Write = () => {\r\n    const onWrite = async(message) => {\r\n        try {\r\n            const ndef = new window.NDEFReader();\r\n            // This line will avoid showing the native NFC UI reader\r\n            await ndef.scan();\r\n            await ndef.write({records: [{ recordType: \"text\", data: message }]});\r\n            alert(`Value Saved!`);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    return (\r\n      <Writer writeFn={onWrite}/>\r\n    );\r\n};\r\n\r\nexport default Write;","import nfc from './nfc.svg';\r\nimport './App.css';\r\nimport Scan from './containers/Scan';\r\nimport Write from './containers/Write';\r\nimport { useState } from 'react';\r\nimport { ActionsContext } from './contexts/context';\r\n\r\nfunction App() {\r\n\r\n  const [actions, setActions] = useState(null);\r\n  const {scan, write} = actions || {};\r\n\r\n  const actionsValue = {actions,setActions};\r\n\r\n  const onHandleAction = (actions) =>{\r\n    setActions({...actions});\r\n  }\r\n\r\n  return (\r\n      <div className=\"App\">\r\n        <img src={nfc} className=\"App-logo\" alt=\"logo\" />\r\n        <h1>NFC Tool</h1>\r\n        <div className=\"App-container\">\r\n          <button onClick={()=>onHandleAction({scan: 'scanning', write: null})} className=\"btn\">Scan</button>\r\n          <button onClick={()=>onHandleAction({scan: null, write: 'writing'})} className=\"btn\">Write</button>\r\n        </div>\r\n        <ActionsContext.Provider value={actionsValue}>\r\n          {scan && <Scan/>}\r\n          {write && <Write/>}\r\n        </ActionsContext.Provider>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}