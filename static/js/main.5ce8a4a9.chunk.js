(this["webpackJsonpreact-nfc"]=this["webpackJsonpreact-nfc"]||[]).push([[0],[,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(3),r=n.n(a),o=(n(8),n.p+"static/media/nfc.1e1c9c72.svg"),i=(n(9),n(10),n.p+"static/media/spinner.e8697d57.gif");const l=Object(c.createContext)({scan:null,write:null,setActions:()=>{}});var j=n(0);var d=()=>{const{actions:e,setActions:t}=Object(c.useContext)(l);return Object(j.jsxs)("div",{className:"scanner",children:[Object(j.jsx)("p",{className:"scanner-exit",onClick:()=>t({...e,scan:null}),children:"X"}),Object(j.jsxs)("div",{className:"scanner-container",children:[Object(j.jsx)("img",{src:i,alt:"spinning log",className:"scanner-image"}),Object(j.jsx)("p",{className:"scanner-text",children:"Scanning..."})]})]})};var b=()=>{console.log("Scan");const[e,t]=Object(c.useState)(""),[n,s]=Object(c.useState)(""),{actions:a,setActions:r}=Object(c.useContext)(l),o=Object(c.useCallback)((async()=>{if("NDEFReader"in window)try{console.log("NDEFReader");const e=new window.NDEFReader;await e.scan(),console.log("Scan started successfully."),e.onreadingerror=()=>{console.log("Cannot read data from the NFC tag. Try another one?")},e.onreading=e=>{console.log("NDEF message read."),i(e),r({scan:"scanned",write:null})}}catch(e){console.log("Error! Scan failed to start: ".concat(e,"."))}}),[r]),i=e=>{let{message:n,serialNumber:c}=e;console.log("onReading"),s(c);for(const s of n.records)if("text"===s.recordType){const e=new TextDecoder(s.encoding);t(e.decode(s.data))}};return Object(c.useEffect)((()=>{o()}),[o]),Object(j.jsx)(j.Fragment,{children:"scanned"===a.scan?Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:["Serial Number: ",n]}),Object(j.jsxs)("p",{children:["Message: ",e]})]}):Object(j.jsx)(d,{status:a.scan})})};n(12);var u=()=>Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",children:[Object(j.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(j.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"})]});var x=e=>{let{writeFn:t}=e;const[n,c]=s.a.useState("");return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("form",{onSubmit:e=>{e.preventDefault(),t(n),c("")},children:Object(j.jsxs)("div",{className:"writer-container",children:[Object(j.jsx)("input",{type:"text",placeholder:"Enter Message...",value:n,onChange:e=>c(e.target.value)}),Object(j.jsxs)("button",{className:"btn",type:"submit",children:[Object(j.jsx)(u,{}),"Save"]})]})})})};var g=()=>Object(j.jsx)(x,{writeFn:async e=>{try{const t=new window.NDEFReader;await t.scan(),await t.write({records:[{recordType:"text",data:e}]}),alert("Value Saved!")}catch(t){console.log(t)}}});var h=function(){const[e,t]=Object(c.useState)(null),{scan:n,write:s}=e||{},a={actions:e,setActions:t},r=e=>{t({...e})};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("img",{src:o,className:"App-logo",alt:"logo"}),Object(j.jsx)("h1",{children:"NFC Tool"}),Object(j.jsxs)("div",{className:"App-container",children:[Object(j.jsx)("button",{onClick:()=>r({scan:"scanning",write:null}),className:"btn",children:"Scan"}),Object(j.jsx)("button",{onClick:()=>r({scan:null,write:"writing"}),className:"btn",children:"Write"})]}),Object(j.jsxs)(l.Provider,{value:a,children:[n&&Object(j.jsx)(b,{}),s&&Object(j.jsx)(g,{})]})]})};var O=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((t=>{let{getCLS:n,getFID:c,getFCP:s,getLCP:a,getTTFB:r}=t;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),O()}],[[13,1,2]]]);
//# sourceMappingURL=main.5ce8a4a9.chunk.js.map